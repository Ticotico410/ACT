<mujoco model="xarm6_ee_pick_cube">
    <include file="scene.xml" />
    <include file="xarm6_dependencies.xml" />

    <equality>
        
        <weld body1="mocap" body2="gripper_base_link" solref="0.02 1" solimp=".25 .25 0.001" />
        <joint joint1="left_finger_joint" joint2="drive_joint" polycoef="0 1 0 0 0" solref="0.002 1" solimp="0.98 0.99 0.001" />
        <joint joint1="left_inner_knuckle_joint" joint2="drive_joint" polycoef="0 1 0 0 0" solref="0.002 1" solimp="0.98 0.99 0.001" />
        <joint joint1="right_finger_joint" joint2="drive_joint" polycoef="0 1 0 0 0" solref="0.002 1" solimp="0.98 0.99 0.001" />
        <joint joint1="right_outer_knuckle_joint" joint2="drive_joint" polycoef="0 -1 0 0 0" solref="0.002 1" solimp="0.98 0.99 0.001" />
        <joint joint1="right_inner_knuckle_joint" joint2="drive_joint" polycoef="0 -1 0 0 0" solref="0.002 1" solimp="0.98 0.99 0.001" />
    </equality>

    <worldbody>
        <include file="xarm6_gripper.xml" />
        
        <body mocap="true" name="mocap" pos="0.3010574  0.49999854 0.43614391">
            <site pos="0 0 0" size="0.005 0.005 0.05" type="box" name="mocap_site1" rgba="1 0 0 1" />
            <site pos="0 0 0" size="0.005 0.05 0.005" type="box" name="mocap_site2" rgba="1 0 0 1" />
            <site pos="0 0 0" size="0.05 0.005 0.005" type="box" name="mocap_site3" rgba="1 0 0 1" />
        <geom name="mocap_pick_helper" type="sphere" size="0.015" rgba="1 0 0 0.35" contype="0" conaffinity="0" group="0" /></body>

        <body name="red_box" pos="-0.1 0.5 0.05">
            <joint name="red_box_joint" type="free" frictionloss="0.01" />
            <inertial pos="0 0 0" mass="0.05" diaginertia="0.002 0.002 0.002" />
            <geom condim="4" solimp="2 1 0.01" solref="0.01 1" friction="1 0.005 0.0001" pos="0 0 0" size="0.02 0.02 0.02" type="box" name="red_box" rgba="1 0 0 1" />
        </body>

    </worldbody>

    
    

    <actuator>
        
        <position ctrllimited="true" ctrlrange="0 0.85" joint="drive_joint" kp="200" user="1" forcelimited="true" forcerange="-50 50" />
    </actuator>

    <keyframe>
        
        <key qpos="0.0 -1.0472 -0.5236 0.0 1.57 0.0  0.0 0.0 0.0 0.0 0.0 0.0  0.0 0.5 0.05 1 0 0 0" />
    </keyframe>

</mujoco>